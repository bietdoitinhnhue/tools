<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>T·∫°o QR ƒê·∫πp - Team QR Generator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://cdn.jsdelivr.net/npm/qr-code-styling@1.6.0/lib/qr-code-styling.js"></script>
  <style>
    body { font-family: Arial, sans-serif; background: #f7f8fa; padding: 32px; max-width: 520px; margin: auto;}
    h1 { text-align: center; color: #3056d3; }
    input, textarea, select { width: 100%; padding: 8px; margin: 10px 0; border-radius: 6px; border: 1px solid #bbb;}
    button { padding: 10px 24px; border: none; border-radius: 6px; background: #3056d3; color: white; font-size: 16px; cursor:pointer;}
    .qr-box {text-align:center; margin: 24px 0;}
    label {font-weight: bold;}
    #qrbox canvas, #qrbox img { border-radius: 12px; box-shadow: 0 2px 8px #0002;}
    .guide {
      background: #e5f1fb;
      color: #234e7e;
      border-radius: 10px;
      padding: 20px 18px;
      margin-top: 32px;
      font-size: 15px;
      box-shadow: 0 1px 8px #0001;
    }
    .guide ul {margin: 10px 0 10px 20px;}
    .guide code {background: #d6eaff; padding: 2px 5px; border-radius: 4px;}
    .row { display: flex; align-items: center; gap: 12px; }
    .row input[type="color"] { width: 50px; height: 36px; padding: 2px;}
    .row label {margin-bottom:0;}
    .contact-footer {
      margin-top:44px; padding-bottom:28px;
    }
    .contact-footer .contact-desc {
      text-align:center; font-size:17px; color:#234e7e; margin-bottom:8px;
    }
    .contact-footer .contact-desc span { color:#1d5eea }
    .contact-footer .contact-img-wrap {
      display: flex; justify-content: center; align-items: center;
    }
    .contact-footer img {
      width: 100%; max-width: 950px; border-radius:16px;
      box-shadow: 0 2px 18px #0002;
    }
    @media (max-width: 700px) {
      body { padding: 12px; }
      .contact-footer img { max-width: 100%; }
    }
  </style>
</head>
<body>
  <h1>T·∫°o QR ƒê·∫πp</h1>
  <label>N·ªôi dung ho·∫∑c link mu·ªën t·∫°o QR:</label>
  <textarea id="qrinput" rows="2" placeholder="Nh·∫≠p n·ªôi dung..."></textarea>

  <div class="row">
    <label for="qrcolor">M√†u QR:</label>
    <input type="color" id="qrcolor" value="#3056d3">
  </div>

  <div class="row">
    <label for="bgcolor">M√†u n·ªÅn:</label>
    <input type="color" id="bgcolor" value="#ffffff">
    <label style="font-weight:normal;">
      <input type="checkbox" id="transparentBG" style="width:auto; margin-right:4px;"> Trong su·ªët
    </label>
  </div>

  <label>Logo (PNG nh·ªè, tu·ª≥ ch·ªçn):</label>
  <input type="file" id="logoUpload" accept="image/png">
  <div id="logoName" style="color:#3056d3;font-size:13px;margin-bottom:10px;"></div>

  <label>Bo g√≥c QR:</label>
  <select id="dotstyle">
    <option value="rounded">Bo tr√≤n (Rounded)</option>
    <option value="dots">Ch·∫•m (Dots)</option>
    <option value="square">Vu√¥ng (Square)</option>
    <option value="classy">Classy</option>
    <option value="classy-rounded">Classy Rounded</option>
    <option value="extra-rounded">Bo c·ª±c tr√≤n (Extra Rounded)</option>
  </select>

  <button onclick="genQR()">T·∫°o QR</button>
  <div class="qr-box" id="qrbox"></div>
  <button onclick="downloadQR()">T·∫£i QR v·ªÅ m√°y</button>

  <div class="guide">
    <b>H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng QR Generator:</b>
    <ul>
      <li>Nh·∫≠p <b>n·ªôi dung</b> ho·∫∑c <b>link</b> b·∫°n mu·ªën m√£ ho√° QR v√†o √¥ tr√™n c√πng.</li>
      <li>Ch·ªçn <b>m√†u QR</b> v√† <b>m√†u n·ªÅn</b> (b·∫•m "Trong su·ªët" n·∫øu kh√¥ng mu·ªën n·ªÅn).</li>
      <li>N·∫øu mu·ªën g·∫Øn <b>logo</b> cho QR, <b>upload file PNG</b> nh·ªè (t·ªëi ∆∞u &lt;100px).</li>
      <li>Ch·ªçn ki·ªÉu <b>bo g√≥c</b> QR cho ƒë·∫πp, hi·ªán ƒë·∫°i.</li>
      <li>B·∫•m <b>T·∫°o QR</b> ƒë·ªÉ xem k·∫øt qu·∫£ ngay b√™n d∆∞·ªõi.</li>
      <li>B·∫•m <b>T·∫£i QR v·ªÅ m√°y</b> ƒë·ªÉ l∆∞u file PNG v·ªÅ thi·∫øt b·ªã.</li>
    </ul>
    <b>L∆∞u √Ω:</b>
    <ul>
      <li>QR code n√†y l√† <b>tƒ©nh</b>, mi·ªÖn ph√≠, kh√¥ng h·∫øt h·∫°n.</li>
      <li>B·∫°n c√≥ th·ªÉ d√πng tr√™n m·ªçi thi·∫øt b·ªã, in ·∫•n tho·∫£i m√°i.</li>
      <li>N·∫øu c·∫ßn h·ªó tr·ª£ custom template/logo, vui l√≤ng li√™n h·ªá Admin.</li>
    </ul>
  </div>

  <!-- Contact QR Footer -->
  <div class="contact-footer">
    <div class="contact-desc">
      <b>
        QR code n√†y l√† tƒ©nh, mi·ªÖn ph√≠, kh√¥ng h·∫øt h·∫°n.<br>
        B·∫°n c√≥ th·ªÉ d√πng tr√™n m·ªçi thi·∫øt b·ªã, in ·∫•n tho·∫£i m√°i.<br>
        N·∫øu c·∫ßn h·ªó tr·ª£ custom template/logo, vui l√≤ng li√™n h·ªá Admin Bi·ªát ƒë·ªôi tinh nhu·ªá.<br>
        <span>Qu√©t QR code v√† li√™n h·ªá üëá</span>
      </b>
    </div>
    <div class="contact-img-wrap">
      <img src="https://i.imgur.com/abc123.png" alt="Li√™n h·ªá Bi·ªát ƒë·ªôi tinh nhu·ªá" style="width:100%;max-width:950px;border-radius:16px;box-shadow:0 2px 18px #0002;">

    </div>
  </div>

  <script>
    let qr = null;
    let logoDataUrl = null;

    // S·ª± ki·ªán ƒë·ªïi m√†u n·ªÅn: ch·ªçn trong su·ªët th√¨ disable input color
    document.addEventListener('DOMContentLoaded', function() {
      document.getElementById('transparentBG').addEventListener('change', function() {
        let bgcolor = document.getElementById('bgcolor');
        if(this.checked) {
          bgcolor.disabled = true;
        } else {
          bgcolor.disabled = false;
        }
      });
      // X·ª≠ l√Ω upload logo file
      document.getElementById('logoUpload').addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (file && file.type === "image/png") {
          const reader = new FileReader();
          reader.onload = function(event) {
            logoDataUrl = event.target.result;
            document.getElementById('logoName').innerText = file.name;
          };
          reader.readAsDataURL(file);
        } else {
          logoDataUrl = null;
          document.getElementById('logoName').innerText = "";
        }
      });
    });

    function genQR() {
      const text = document.getElementById('qrinput').value.trim();
      const color = document.getElementById('qrcolor').value;
      const bgcolor = document.getElementById('bgcolor').value;
      const transparent = document.getElementById('transparentBG').checked;
      const dotstyle = document.getElementById('dotstyle').value;
      let bgOpt = transparent ? 'rgba(0,0,0,0)' : bgcolor;
      if (!text) { alert('Vui l√≤ng nh·∫≠p n·ªôi dung!'); return; }
      document.getElementById('qrbox').innerHTML = '';

      qr = new QRCodeStyling({
        width: 320,
        height: 320,
        data: text,
        dotsOptions: { color: color, type: dotstyle },
        backgroundOptions: { color: bgOpt },
        image: logoDataUrl || undefined,
        imageOptions: { crossOrigin: "anonymous", margin: 8 }
      });
      qr.append(document.getElementById('qrbox'));
    }
    function downloadQR() {
      if (qr) qr.download({ name: "qr-code", extension: "png" });
    }
  </script>
</body>
</html>
